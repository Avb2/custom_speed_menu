//-----------------------------------------------------------------------------------
// <auto-generated>
//     This file was generated by the Robotmaster Processor Definition Editor (PDE).
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//-----------------------------------------------------------------------------------

namespace Robotmaster.Processor.Fanuc.Generated.Classes
{
    /// <summary>
    ///     This is a concrete implementation of the generated robot program interface.
    /// </summary>
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Robotmaster.ProcessorDefinitionEditor.GenerationServices", "")]
    internal sealed class RobotProgram : global::Robotmaster.Processor.Core.Common.BaseClasses.RobotProgramBase, global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IRobotProgram
    {
        private global::System.Collections.Generic.IReadOnlyList<global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IOperation> operations = null;

        private RobotProgram(global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IProgram program, global::Robotmaster.ComponentBasedTree.CbtNode robotProgramNode)
            : base(program, robotProgramNode)
        {
        }

        /// <summary>
        ///     Gets a read-only list of the operations associated with this robot program.
        /// </summary>
        public new global::System.Collections.Generic.IReadOnlyList<global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IOperation> Operations
        {
            get
            {
                if (this.operations == null)
                {
                    var operationCreationFuncDictionary = new global::System.Collections.Generic.Dictionary<global::Robotmaster.Processor.Core.Common.Enums.OperationType, global::System.Func<global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IRobotProgram, global::Robotmaster.ComponentBasedTree.CbtNode, global::System.Int32, global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IOperation>>()
                    {
                        {global::Robotmaster.Processor.Core.Common.Enums.OperationType.HomeOperation, global::Robotmaster.Processor.Fanuc.Generated.Classes.HomeOperation.CreateInstance},
                        {global::Robotmaster.Processor.Core.Common.Enums.OperationType.MacroOperation, global::Robotmaster.Processor.Fanuc.Generated.Classes.MacroOperation.CreateInstance},
                        {global::Robotmaster.Processor.Core.Common.Enums.OperationType.TaskOperation, global::Robotmaster.Processor.Fanuc.Generated.Classes.TaskOperation.CreateInstance},
                        {global::Robotmaster.Processor.Core.Common.Enums.OperationType.TransitionOperation, global::Robotmaster.Processor.Fanuc.Generated.Classes.TransitionOperation.CreateInstance},
                    };

                    this.operations = global::Robotmaster.Processor.Core.Common.BaseClasses.RobotProgramBase.CreateOperationList<global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IRobotProgram, global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IOperation>(this, operationCreationFuncDictionary);
                }

                return this.operations;
            }
        }

        /// <summary>
        ///     Gets the first operation of this robot program.
        /// </summary>
        public new global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IOperation FirstOperation => (global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IOperation)base.FirstOperation;

        /// <summary>
        ///     Gets the last operation of this robot program.
        /// </summary>
        public new global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IOperation LastOperation => (global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IOperation)base.LastOperation;

        /// <summary>
        ///     This factory method is used to be able to generate instances of this class.
        /// </summary>
        /// <param name="program">
        ///     The program that this robot program belongs to.
        /// </param>
        /// <param name="robotProgramNode">
        ///     The underlying CBT node for this robot program.
        /// </param>
        /// <returns>
        ///     This returns a newly created instance.
        /// </returns>
        internal static global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IRobotProgram CreateInstance(global::Robotmaster.Processor.Fanuc.Generated.Interfaces.IProgram program, global::Robotmaster.ComponentBasedTree.CbtNode robotProgramNode) => new global::Robotmaster.Processor.Fanuc.Generated.Classes.RobotProgram(program, robotProgramNode);

        /// <summary>
        ///     Gets the underlying read-only list of operations for this robot program.
        /// </summary>
        /// <remarks>
        ///     Due to the way that covariance works in generics, in order to be able to get the same collection to be accessed to both Core and the Brand Processor, the collection needs to be specified here.  Once done so, it can then be used everywhere.
        /// </remarks>
        /// <returns>
        ///     The read-only list of operations.
        /// </returns>
        protected override global::System.Collections.Generic.IReadOnlyList<global::Robotmaster.Processor.Core.Common.Interfaces.IOperationCore> GetOperationList() => this.Operations;
    }
}
